# Repository

`Repository` is the primary entry point for git-backed workflows. It selects the right adapter automatically (local/clone via `GitFileSystem`, remote API via `GitVirtualFileSystem`) and exposes factory helpers for `Directory` and `File`.

## Local repositories

```ts
import { Repository } from 'renoun'

const repo = new Repository() // defaults to "."
const docs = repo.getDirectory('docs')
const readme = repo.getFile('README.md')
```

Local repositories use a worktree overlay when no explicit `ref` is provided. This means:

- On-disk files (including uncommitted or untracked) are readable.
- Git metadata still comes from the repository history.
- Untracked files have no history.

## Remote repositories (clone)

```ts
import { Repository } from 'renoun'

const remoteRepo = new Repository({
  path: 'https://github.com/mrdoob/three.js',
  depth: 1,
})

// Lazy: cloning does not happen until you read a file or directory.
const remoteDirectory = remoteRepo.getDirectory('src')
```

## Remote repositories (virtual API)

```ts
import { Repository } from 'renoun'

const virtualRepo = new Repository({
  path: 'https://github.com/mrdoob/three.js',
  clone: false,
})

const virtualDirectory = virtualRepo.getDirectory('src')
```

## Sparse and ref configuration

```ts
import { Repository } from 'renoun'

const scopedRepo = new Repository({
  path: 'https://github.com/vercel/next.js',
  ref: 'canary',
  sparse: ['packages/next'],
  depth: 1,
})

const scopedDirectory = scopedRepo.getDirectory('packages/next')
```

## Accessing the underlying file system

```ts
import { Repository } from 'renoun'

const repo = new Repository('owner/repo')
const fileSystem = repo.getFileSystem()
```
